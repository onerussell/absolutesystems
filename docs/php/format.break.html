<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content="HTML Tidy for Windows (vers 1st February 2005), see www.w3.org">

  <title>Использование continue, break и ?:</title>
  <meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.76b+">
  <link rel="HOME" title="Стандарты оформления кода PHP" href="index.html">
  <link rel="UP" title="Форматирование" href="format.html">
  <link rel="PREVIOUS" title="Формат switch" href="format.switch.html">
  <link rel="NEXT" title="Выравнивание блоков объявления переменных" href="format.declaration.html">
<style type="text/css">
 body {
  background-color: #FFFFFF;
  color: #000000;
 }
 :link { color: #0000FF }
 :visited { color: #840084 }
 :active { color: #0000FF }
 p.c2 {font-weight: bold}
 hr.c1 {text-align: left}
</style>
</head>

<body class="chapter">
  <div class="NAVHEADER">
    <table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr>
        <th colspan="3" align="center">Стандарты оформления кода PHP</th>
      </tr>

      <tr>
        <td width="10%" align="left" valign="bottom"><a href="format.switch.html" accesskey="P">Prev</a></td>

        <td width="80%" align="center" valign="bottom"></td>

        <td width="10%" align="right" valign="bottom"><a href="format.declaration.html" accesskey="N">Next</a></td>
      </tr>
    </table>
    <hr class="c1" width="100%">
  </div>

  <div class="chapter">
    <h1><a name="format.break" id="format.break">Глава 17. Использование continue, break и ?:</a></h1>

    <p class="keycap c2">Continue и break</p>

    <p><tt class="literal">Continue</tt> и <tt class="literal">break</tt> - это тот же самый <tt class="literal">goto</tt>, только названы по-другому. Именно поэтому они рассмотрены в этой части документа.</p>

    <p>Как и <tt class="literal">goto</tt>, <tt class="literal">continue</tt> и <tt class="literal">break</tt> творят всякие разные чудеса в коде, поэтому их использование рекомендуется свести до минимума. Одним мановением руки читатель кода переносится бог знает куда по какой-то незадокументрированной причине. При использовании <tt class="literal">continue</tt> возникают две проблемы:</p>

    <ul>
      <li>
        <p>continue может обойти условный блок;</p>
      </li>

      <li>
        <p>continue может обойти наращивание/уменьшение.</p>
      </li>
    </ul>

    <p class="keycap c2">Пример</p>

    <p>Представим себе ситуацию, где имеют место обе проблемы:</p>

    <div class="informalexample">
      <a name="AEN341" id="AEN341"></a>

      <table border="0" bgcolor="#E0E0E0" cellpadding="5">
        <tr>
          <td>
            <pre class="programlisting">
while (TRUE)         
{
   ...
   // Много кода
   ...

   if (/* какое-то условие */) {
      continue;
   }
   ...

   // Много кода
   ...
   if ( $i++ &gt; STOP_VALUE) break;
}
</pre>
          </td>
        </tr>
      </table>
    </div>

    <div class="note">
      <blockquote class="note">
        <p><b>Note:</b> &quot;много кода&quot; нужно для того, чтобы программист не смог легко отследить проблему.</p>
      </blockquote>
    </div>

    <p>Из приведённого выше примера мы можем составить себе следующее правило: использование continue и break в одном блоке - прямая дорога к багам.</p>

    <p class="keycap c2">?:</p>

    <p>Проблема обычно заключается в том, что люди пытаются запихать слишком много кода между ? и :. Вот несколько правил:</p>

    <ul>
      <li>
        <p>Условие заключайте в скобки, тем самым отделяя его от остального кода;</p>
      </li>

      <li>
        <p>По возможности действия, производимые по условию, должны быть простыми функциями;</p>
      </li>

      <li>
        <p>Если весь блок ветвления плохо читается, будучи расположен на одной строке, то блоки else и then размещайте каждый на отдельной строке.</p>
      </li>
    </ul>

    <p class="keycap c2">Пример</p>

    <div class="informalexample">
      <a name="AEN358" id="AEN358"></a>

      <table border="0" bgcolor="#E0E0E0" cellpadding="5">
        <tr>
          <td>
            <pre class="programlisting">
(условие) ? funct1() : func2();

or

(условие)
    ? длинный блок
    : ещё один длинный блок;
</pre>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <div class="NAVFOOTER">
    <hr class="c1" width="100%">

    <table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr>
        <td width="33%" align="left" valign="top"><a href="format.switch.html" accesskey="P">Prev</a></td>

        <td width="34%" align="center" valign="top"><a href="index.html" accesskey="H">Home</a></td>

        <td width="33%" align="right" valign="top"><a href="format.declaration.html" accesskey="N">Next</a></td>
      </tr>

      <tr>
        <td width="33%" align="left" valign="top">Формат switch</td>

        <td width="34%" align="center" valign="top"><a href="format.html" accesskey="U">Up</a></td>

        <td width="33%" align="right" valign="top">Выравнивание блоков объявления переменных</td>
      </tr>
    </table>
  </div>
</body>
</html>
